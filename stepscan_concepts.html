

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Step Scan Concepts &mdash; Python Epics Applications</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Python Epics Applications" href="index.html" />
    <link rel="up" title="StepScan: Epics Scans with Python" href="stepscan.html" />
    <link rel="next" title="Using StepScan" href="stepscan_usage.html" />
    <link rel="prev" title="StepScan Installation" href="stepscan_install.html" /> 
  </head>
  <body>
<div style="background-color: #E4EAED; text-align: left; padding: 0px 0px 15px 15px">
 <h1> <a href="index.html">Epics Applications using PyEpics</a></h1>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stepscan_usage.html" title="Using StepScan"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="stepscan_install.html" title="StepScan Installation"
             accesskey="P">previous</a> |</li>
   <li><a href="installation.html">download</a>|</li>
   <li><a href="ad_display.html">AreaDetector</a>|</li>
   <li><a href="stepscan.html">StepScan</a>|</li>
   <li><a href="stripchart.html">StripChart</a>|</li>
   <li><a href="motorsetup.html">MotorSetup</a>|</li>
   <li><a href="instrument.html">Instruments</a>|</li>
   &nbsp;&nbsp;<li><a href="search.html">search</a></li>

          <li><a href="stepscan.html" accesskey="U">StepScan:  Epics Scans with Python</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Step Scan Concepts</a><ul>
<li><a class="reference internal" href="#positioners">Positioners</a></li>
<li><a class="reference internal" href="#triggers">Triggers</a></li>
<li><a class="reference internal" href="#counters">Counters</a></li>
<li><a class="reference internal" href="#detectors">Detectors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="stepscan_install.html"
                        title="previous chapter">StepScan Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stepscan_usage.html"
                        title="next chapter">Using StepScan</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/stepscan_concepts.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="step-scan-concepts">
<span id="scan-concepts-label"></span><h1>Step Scan Concepts<a class="headerlink" href="#step-scan-concepts" title="Permalink to this headline">¶</a></h1>
<p>A step scan is simply a <strong>for loop</strong> that iterates a collection of
<strong>Positioners</strong> (any Epics PV -- not restricted to Motors) through
a set of pre-determined position values.  At each position, a set
of detectors are <strong>triggered</strong> (which is to say, collection is
started), and then waited upon until they announce they are
complete.  At that point a collection of <strong>Counters</strong> (again, any
Epics PV, though for those holding waveform values see the notes
below) are read, and the loop starts over, moving on to the next
point in the list of positions.</p>
<dl class="docutils">
<dt>A StepScan also contains several other components::</dt>
<dd><ul class="first last simple">
<li>extra_pvs: a set of PVs to record once (or a few times) for each
scan, but not at every point in the scan.</li>
<li>breakpoints: a series of points in the scan at which data collected
so far is dumped to file, and perhaps other tasks are done.</li>
<li>pre_scan: a set of functions to call just prior to beginning the scan.</li>
<li>post_scan: a set of functions to call just after the scan completes.</li>
<li>at_break: a set of functions to call at each breakpoint (after the
data is written to disk).</li>
</ul>
</dd>
</dl>
<div class="section" id="positioners">
<h2>Positioners<a class="headerlink" href="#positioners" title="Permalink to this headline">¶</a></h2>
<p>Positioners are what is changed in the scan -- the dependent variables.
The can be represented by any Epics PV, such as Motors, temperatures,
currents, count times, or a combination of these.  Scans can have multiple
positioners, either moving in tandem to make a complex motion in the
positioner space, or independently to make a mesh in the positioner space.</p>
<p>In addition to a PV, each positioner will have an array of positions which
it should take during the scan.  The Positioner holds the full array
positions.  There are methods available for creating this from Start, Stop,
Step, and Npts parameters for simple linear scans, but you can also give it
a non-uniform array,</p>
<p>If you have multiple positioners, they must all have an array of positions
that is the same length.</p>
</div>
<div class="section" id="triggers">
<h2>Triggers<a class="headerlink" href="#triggers" title="Permalink to this headline">¶</a></h2>
<p>A Trigger is something that starts a detector counting.  The general
assumption is that these start integrating detectors with a finite count
time (which may have been set prior to the scan, or set as one of the
Positioners).  The scan waits for these triggers to announce that they have
completed (ie, the Epics &quot;put&quot; has completed).  That means that not just
any PV can be used as a Trigger -- you really need a trigger that will
finish.</p>
<p>For many detectors using standard Epics Records (Scalers, MCAs,
multi-element MCAs, AreaDetectors), using a Detector (see below) will
include the appropriate Trigger.</p>
</div>
<div class="section" id="counters">
<h2>Counters<a class="headerlink" href="#counters" title="Permalink to this headline">¶</a></h2>
<p>A Counter is any PV that you wish to measure at each point in the scan.</p>
<p>Counters for waveforms:</p>
<p>For many detectors using standard Epics Records (Scalers, MCAs,
multi-element MCAs, AreaDetectors), using a Detector (see below) will
automatically include a wide range of Counters.</p>
</div>
<div class="section" id="detectors">
<h2>Detectors<a class="headerlink" href="#detectors" title="Permalink to this headline">¶</a></h2>
<p>Detectors are essentially a combination of Triggers and Counters that
represent a detector as defined by one of the common Epics detector
records.  These include Scalers, MCAs, multi-element MCAs, and
AreaDetectors.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stepscan_usage.html" title="Using StepScan"
             >next</a> |</li>
        <li class="right" >
          <a href="stepscan_install.html" title="StepScan Installation"
             >previous</a> |</li>
   <li><a href="installation.html">download</a>|</li>
   <li><a href="ad_display.html">AreaDetector</a>|</li>
   <li><a href="stepscan.html">StepScan</a>|</li>
   <li><a href="stripchart.html">StripChart</a>|</li>
   <li><a href="motorsetup.html">MotorSetup</a>|</li>
   <li><a href="instrument.html">Instruments</a>|</li>
   &nbsp;&nbsp;<li><a href="search.html">search</a></li>

          <li><a href="stepscan.html" >StepScan:  Epics Scans with Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Matthew Newville.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>